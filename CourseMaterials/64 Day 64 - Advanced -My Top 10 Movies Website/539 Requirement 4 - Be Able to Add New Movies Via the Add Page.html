<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/image.min.css"></head><body><div class="container"><div class="row"><div class="col-md-10 col-md-offset-1 ui image"><p class="lead"><p>Previously, we added a new entry to our database using either a hard-coded piece of code or the DB&nbsp;Viewer. Now, we need to make the add page work for a user who can't do those things. We should be able to add any film and use an API to fetch the poster image, year of release and movie description. </p><p>1. Make the add page render when you click on the Add Movie button on the Home page. The Add page should show a WTF quick form that only contains 1 field - the title of the movie. </p><p>e.g.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-06_15-35-28-f3bca8753ddb6c6a7f4d959ff8dc9a95.gif"></figure><p><a href="https://gist.github.com/angelabauer/ae6154dffa3f502c2a480bd9cce9705f" rel="noopener noreferrer" target="_blank">SOLUTION</a></p><p><br></p><p>2. When the user types a movie title and clicks "Add Movie", your Flask server should receive the movie title. Next, you should use the requests library to make a request and search The Movie Database API for all the movies that match that title. </p><ul><li><p>You will need to sign up for a free account on The Movie Database. </p></li><li><p>Then you will need to go to Settings -&gt; API and get an API&nbsp;Key. Copy that API key into your project. </p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-06_15-43-54-bd22909a8a0cb6f8e639190f5c553c77.png"></figure><p><br></p></li><li><p>You will need to read the documentation on The Movie Database to figure out how to request for movie data by making a search query.</p><p><a href="https://developers.themoviedb.org/3/search/search-movies" rel="noopener noreferrer" target="_blank">https://developers.themoviedb.org/3/search/search-movies</a></p></li></ul><p>HINT 1: The "Try it out" tab on the API&nbsp;docs is particularly useful to see the structure of the request and the data you can expect to get back.</p><p>HINT 2: We covered how to make API requests a long time ago on Day 33, it might be worth reviewing the knowledge there if you get stuck.</p><ul><li><p>Using the data you get back from the API, you should render the select.html page and add all the movie title and year of release on to the page. This way, the user can choose the movie they want to add. There are usually quite a few movies under similar names. </p></li></ul><p>e.g.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-06_15-48-13-15ba76fce46eaf9a348ae138fa985b3d.gif"></figure><p><br></p><p><a href="https://gist.github.com/angelabauer/d6bec8eec3420ac9632a96d1ac5857b6" rel="noopener noreferrer" target="_blank">SOLUTION</a></p><p><br></p><p>3. Once the user selects a particular film from the select.html page, the id of the movie needs to be used to hit up another path in the Movie Database API, which will fetch all the data they have on that movie. e.g Poster image URLs. </p><ul><li><p>Use the id of the movie that the user selected to make a request to the get-movie-details path.</p></li></ul><p><a href="https://developers.themoviedb.org/3/movies/get-movie-details" rel="noopener noreferrer" target="_blank">https://developers.themoviedb.org/3/movies/get-movie-details</a></p><p>The data you get back from the API should be used to populate the database with the new entry. The properties you will populate are:</p><ul><li><p>title</p></li><li><p>img_url</p></li><li><p>year</p></li><li><p>description </p></li></ul><p>Once the entry is added, redirect to the home page and it should display the new movie as a card. Some data will be missing, that's ok.</p><p>e.g.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-06_16-02-08-6da5f471649db83339944362fd0582c8.gif"></figure><p><br></p><p><a href="https://gist.github.com/angelabauer/daf0f55d7ed2034ab07be56e345a8471" rel="noopener noreferrer" target="_blank">SOLUTION</a></p><p><br></p><p>4. Instead of redirecting to the home page after finding the correct film, redirect to the edit.html page. Because the parts of the movie entry that are missing are the rating and review. The form on the edit page will contain these two fields. Update the movie entry in the database with this new data.</p><p>e.g.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-06_16-15-20-0d5ff77884e0d168aa28adea9b760180.gif"></figure></p></div></div></div></body></html>