<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/image.min.css"></head><body><div class="container"><div class="row"><div class="col-md-10 col-md-offset-1 ui image"><p class="lead"><p>One of the fields in our cafe database is the price of a single black coffee. It's a good way for users to gauge how expensive is the coffee shop. But cafes often change their prices. What if a user wanted to submit a change in price at one of the cafes?</p><p>If they knew the <code>id</code> of the cafe (which they can get by making a GET request to fetch data on all the cafes), then they can update the <code>coffee_price</code> field of the cafe. </p><p>In this situation, a <code>PATCH</code> request is probably more efficient, as we don't need to change any of the rest of the cafe's data. </p><p>1. Create a <code>PATCH</code> request route in main.py to handle PATCH requests to our API. In order for our API to be RESTful, ideally, the route should be something like this:</p><p><code>/update-price/&lt;cafe_id&gt;</code></p><p>HINT 1: <a href="https://flask.palletsprojects.com/en/1.1.x/quickstart/#variable-rules" rel="noopener noreferrer" target="_blank">https://flask.palletsprojects.com/en/1.1.x/quickstart/#variable-rules</a></p><p>So the user might go to <code>localhost:5000/update-price/22</code> and that would update the cafe with an id of 22. </p><p>HINT 2: The user will also need to provide the updated price of a single black coffee by passing it with the request as a parameter.</p><p>This is what should happen if you've done this correctly, you should be able to test the API in Postman and get a successful response:</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-08_16-43-47-ae0091fcf8a79f8dae44e3612e205230.png"></figure><p>NOTE: There might be a chance that the id in the route doesn't exist. In this case, make sure you give the user the correct feedback:</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-08_16-45-12-1ff55213c0dd4f1a4963ac5520b909d4.png"></figure><p><a href="https://gist.github.com/angelabauer/bb25bbb9e969ab4a201f4282354a6512" rel="noopener noreferrer" target="_blank">SOLUTION</a></p><p><br></p><p>NOTE: Notice that even when the resource is not found and we get an error the correct HTTP code is not being returned. It should be 404 for "resource not found" but instead we're getting 200 for "a ok".</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-10-08_16-49-08-6e6ea11d0a7bf2e4b15cc0c77eb6da60.png"></figure><p>This is how you can pass an HTTP code with your response:</p><p><a href="https://gist.github.com/angelabauer/dbae77d766cf51942b0c8852fd8470a3" rel="noopener noreferrer" target="_blank">CODE</a></p></p></div></div></div></body></html>